<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SVG Art Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="controls">
        <div class="slider-column">
            <label for="numShapes">Number of Shapes:</label>
            <input type="range" id="numShapes" min="1" max="50" value="10">
            <span id="numShapesValue">10</span>
            <br>
            
            <label for="opacity">Opacity:</label>
            <input type="range" id="opacity" min="0.1" max="1" step="0.1" value="0.5">
            <span id="opacityValue">0.5</span>
            <br>
            
            <label for="size">Size:</label>
            <input type="range" id="size" min="10" max="1500" value="200">
            <span id="sizeValue">200</span>
            <br>
            
            <label for="color1">Color 1:</label>
            <input type="color" id="color1" value="#ff0000">
            <br>
            
            <label for="formula">Formula:</label>
            <select id="formula">
                <option value="spiral">Spiral</option>
                <option value="wave">Wave</option>
                <option value="flower">Flower</option>
            </select>
            <br>
        </div>
        
        <div class="slider-column">
            <label for="randomness">Randomness:</label>
            <input type="range" id="randomness" min="0" max="50" value="10">
            <span id="randomnessValue">10</span>
            <br>
            
            <label for="numPoints">Number of Points:</label>
            <input type="range" id="numPoints" min="3" max="20" value="5">
            <span id="numPointsValue">5</span>
            <br>
            
            <label for="rotation">Rotation:</label>
            <input type="range" id="rotation" min="0" max="360" value="0">
            <span id="rotationValue">0</span>
            <br>
            
            <label for="color2">Color 2:</label>
            <input type="color" id="color2" value="#0000ff">
            <br>
        </div>
        
        <div class="slider-column">
            <label for="scale">Scale:</label>
            <input type="range" id="scale" min="0.1" max="2" step="0.1" value="1">
            <span id="scaleValue">1</span>
            <br>
            
            <label for="patternRepetition">Pattern Repetition:</label>
            <input type="range" id="patternRepetition" min="1" max="20" value="10">
            <span id="patternRepetitionValue">10</span>
            <br>
        </div>
        
        <div class="slider-column">
            <label for="protocol">Protocol:</label>
            <select id="protocol">
                <option value="protocol1">Protocol 1</option>
                <option value="protocol2">Protocol 2</option>
            </select>
            <br>
        </div>
    </div>

    <div id="canvas">
        <div id="svgContainer"></div>
    </div>

    <div class="download-options">
        <button onclick="downloadAsSVG()">Download SVG</button>
        <button onclick="downloadAsPNG()">Download PNG</button>
    </div>

    <script src="script.js"></script>
    <script>
        // Attach event listener to the protocol dropdown
        const protocolDropdown = document.getElementById("protocol");
        protocolDropdown.addEventListener("change", () => {
            const selectedProtocol = protocolDropdown.value;
            if (selectedProtocol === "protocol2") {
                window.location.href = "protocol2.html";
            }
        });

        // Attach event listeners to the sliders
        const sliders = document.querySelectorAll('input[type="range"]');
        sliders.forEach((slider) => {
            slider.addEventListener('input', () => {
                const valueSpan = document.getElementById(`${slider.id}Value`);
                valueSpan.textContent = slider.value;
                generateArt();
            });
        });
    </script>
</body>
</html>
